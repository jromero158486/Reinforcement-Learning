<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Bluetooth Car Controller</title>
<style>
  body { font-family: Arial; text-align: center; background:#f4f4f4; }
  button { padding:20px; font-size:20px; margin:10px; border-radius:10px; }
  #status { margin:20px; font-size:22px; font-weight:bold; }
</style>
</head>
<body>

<h2>üöó Car Controller</h2>
<div id="status">Disconnected</div>

<button id="connectBtn">üîµ Connect Bluetooth</button>
<br><br>

<button onclick="send('U')">‚¨Ü Forward</button><br>
<button onclick="send('L')">‚¨Ö Left</button>
<button onclick="send('S')">‚èπ Stop</button>
<button onclick="send('R')">‚û° Right</button><br>
<button onclick="send('D')">‚¨á Backward</button>

<script>
let port, writer;

async function connect() {
    try {
        port = await navigator.serial.requestPort();
        await port.open({ baudRate: 9600 });

        writer = port.writable.getWriter();
        document.getElementById("status").innerText = "Connected ‚úî";
        document.getElementById("status").style.color = "green";
    } catch (e) {
        document.getElementById("status").innerText = "Connection failed";
        document.getElementById("status").style.color = "red";
    }
}

async function send(cmd) {
    if (!writer) {
        alert("Connect first!");
        return;
    }
    await writer.write(new TextEncoder().encode(cmd));
}

document.getElementById("connectBtn").onclick = connect;
</script>

</body>
</html>
